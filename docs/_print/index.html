<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.118.2"><link rel=canonical type=text/html href=https://jlevesy.github.io/grpc-traffic-controller/docs/><link rel=alternate type=application/rss+xml href=https://jlevesy.github.io/grpc-traffic-controller/docs/index.xml><meta name=robots content="noindex, nofollow"><link rel="shortcut icon" href=/grpc-traffic-controller/favicons/favicon.ico><link rel=apple-touch-icon href=/grpc-traffic-controller/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/grpc-traffic-controller/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/grpc-traffic-controller/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/grpc-traffic-controller/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/grpc-traffic-controller/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/grpc-traffic-controller/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/grpc-traffic-controller/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/grpc-traffic-controller/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/grpc-traffic-controller/favicons/android-192x192.png sizes=192x192><title>gRPC Traffic Controller documentation | gRPC Traffic Controller</title><meta name=description content><meta property="og:title" content="gRPC Traffic Controller documentation"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="https://jlevesy.github.io/grpc-traffic-controller/docs/"><meta itemprop=name content="gRPC Traffic Controller documentation"><meta itemprop=description content><meta name=twitter:card content="summary"><meta name=twitter:title content="gRPC Traffic Controller documentation"><meta name=twitter:description content><link rel=preload href=/grpc-traffic-controller/scss/main.min.c074787fc7a716ba364f3b69ba03372f8e161a06936fd033cbc5ada8152af804.css as=style><link href=/grpc-traffic-controller/scss/main.min.c074787fc7a716ba364f3b69ba03372f8e161a06936fd033cbc5ada8152af804.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.6.3.min.js integrity="sha512-STof4xm1wgkfm7heWqFJVn58Hm3EtS31XFaagaa8VMReCXAkQnJZ+jEy8PCC/iT18dFy95WcExNHFTqLyp72eQ==" crossorigin=anonymous></script></head><body class=td-section><header><nav class="td-navbar navbar-dark js-navbar-scroll"><div class="container-fluid flex-column flex-md-row"><a class=navbar-brand href=/grpc-traffic-controller/><span class="navbar-brand__logo navbar-logo"><svg width="48" height="48" viewBox="0 0 12.7 12.7" id="svg1" inkscape:export-filename="icon.png" inkscape:export-xdpi="96" inkscape:export-ydpi="96" inkscape:version="1.3 (0e150ed6c4, 2023-07-21)" sodipodi:docname="logo.svg" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"><sodipodi:namedview id="namedview1" pagecolor="#ffffff" bordercolor="#000000" borderopacity=".25" inkscape:showpageshadow="2" inkscape:pageopacity="0" inkscape:pagecheckerboard="0" inkscape:deskcolor="#d1d1d1" inkscape:document-units="mm" inkscape:zoom="8.3597643" inkscape:cx="43.003605" inkscape:cy="37.740298" inkscape:window-width="2560" inkscape:window-height="1369" inkscape:window-x="1072" inkscape:window-y="247" inkscape:window-maximized="1" inkscape:current-layer="layer1"/><defs id="defs1"/><g inkscape:label="Layer 1" inkscape:groupmode="layer" id="layer1"><path d="M6.268017.04666028A.28006942.27981873.0 006.1244951.15829809L4.5417577 2.8957631a.27355619.27331132.0 00-.029482.1746766.27355619.27331132.0 00.083947.1560415.27355619.27331132.0 00.1620372.071864.27355619.27331132.0 00.1721248-.042514l1.1571804-.793907V8.5354886A4.617889 4.6137553.0 005.6752435 7.8977246a4.617889 4.6137553.0 00-.5114664-.561568 4.617889 4.6137553.0 00-.5967338-.4701888A4.617889 4.6137553.0 003.9012571 6.499942a4.617889 4.6137553.0 00-.7168999-.2519533A4.617889 4.6137553.0 002.4358087 6.1169051l.8098162-1.1778228A.27355619.27331132.0 003.2889491 4.803163.27355619.27331132.0 003.257842 4.6639288.27355619.27331132.0 003.1607622 4.5593259.27355619.27331132.0 003.0241451 4.5178628.27355619.27331132.0 002.8852267 4.5508038L.14534524 6.1320955a.26921403.26897303.0 00-.1204029.1414323.26921403.26897303.0 000 .1856677.26921403.26897303.0 00.1204029.1414324L2.8852292 8.1819474a.27355619.27331132.0 00.1389183.032941.27355619.27331132.0 00.1366172-.041464.27355619.27331132.0 00.09708-.1046035.27355619.27331132.0 00.031107-.1392343.27355619.27331132.0 00-.043325-.1359189L2.4683744 6.6635313a4.0772898 4.0736403.0 01.7260047.149786 4.0772898 4.0736403.0 01.6868755.2786366 4.0772898 4.0736403.0 01.6250315.3982889 4.0772898 4.0736403.0 01.5424728.5047862A4.0772898 4.0736403.0 015.4908337 8.5895711 4.0772898 4.0736403.0 015.8178206 9.254288 4.0772898 4.0736403.0 016.0189545 9.9671642 4.0772898 4.0736403.0 016.0875688 10.70466v1.735299a.2713851.27114219.0 00.051853.159356.2713851.27114219.0 00.1356692.09852.2713851.27114219.0 00.167725.0.2713851.27114219.0 00.1357028-.09852.2713851.27114219.0 00.051821-.159356V10.70466A4.0772898 4.0736403.0 016.6989546 9.9671642 4.0772898 4.0736403.0 016.9000887 9.254288a4.0772898 4.0736403.0 01.3270205-.6647169A4.0772898 4.0736403.0 017.6691504 7.995029a4.0772898 4.0736403.0 01.5425069-.5047862 4.0772898 4.0736403.0 01.6249983-.3982889 4.0772898 4.0736403.0 01.6868745-.2786366 4.0772898 4.0736403.0 01.7260039-.149786l-.7772522 1.130138a.27355619.27331132.0 00-.042548.1719708.27355619.27331132.0 00.071927.1619258.27355619.27331132.0 00.156182.083838.27355619.27331132.0 00.1748324-.029454L12.57476 6.6006304a.27355619.27331132.0 00.07068-.061047.27355619.27331132.0 00.04603-.081234.27355619.27331132.0 00.01595-.091988.27355619.27331132.0 00-.01595-.091955.27355619.27331132.0 00-.04603-.081268.27355619.27331132.0 00-.07068-.061039L9.8326756 4.5508112A.26704294.26680391.0 009.6566244 4.5161456.26704294.26680391.0 009.4983435 4.6006948.2713851.27114219.0 009.4257682 4.7653263.2713851.27114219.0 009.472276 4.9390899l.809817 1.1778223A4.617889 4.6137553.0 009.5335445 6.2479958a4.617889 4.6137553.0 00-.7168653.2519533A4.617889 4.6137553.0 008.1508586 6.865975 4.617889 4.6137553.0 007.5541592 7.3361639a4.617889 4.6137553.0 00-.5114671.5615678A4.617889 4.6137553.0 006.6303368 8.535496V2.4619315L7.787517 3.255838A.27355619.27331132.0 007.923559 3.299129.27355619.27331132.0 008.0629173 3.268047.27355619.27331132.0 008.1676142 3.171054.27355619.27331132.0 008.2091142 3.0345592.27355619.27331132.0 008.1761432 2.8957652L6.5934389.15830039A.28006942.27981873.0 006.4498835.04666244a.28006942.27981873.0 00-.1818738.0z" style="fill:#fff;stroke-width:.0654736" id="path1"/></g></svg></span><span class=navbar-brand__name>gRPC Traffic Controller</span></a><div class="td-navbar-nav-scroll ms-md-auto" id=main_navbar><ul class=navbar-nav><li class=nav-item><a class="nav-link active" href=/grpc-traffic-controller/docs/><span>Documentation</span></a></li></ul></div><div class="d-none d-lg-block"></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><main class="col-12 col-md-9 col-xl-8 ps-md-5" role=main><div class=td-content><div class="pageinfo pageinfo-primary d-print-none"><p>This is the multi-page printable view of this section.
<a href=# onclick="return print(),!1">Click here to print</a>.</p><p><a href=/grpc-traffic-controller/docs/>Return to the regular view of this page</a>.</p></div><h1 class=title>gRPC Traffic Controller documentation</h1><ul><li>1: <a href=#pg-93aadc1aba179e6928539400a09b9e4e>Installing gRPC Traffic Controller</a></li><ul></ul><li>2: <a href=#pg-4495328d2850942cff833b9718c1da91>Exposing your first gRPC service</a></li><ul></ul></ul><div class=content><p>Welcome to the gRPC Traffic Controller Documentation!</p><p>gRPC Traffic Controller is an xDS control plane for gRPC and Kubernetes that allows any gRPC client embedding the support of the xDS service discovery protocol to retrieve routing policies.</p><p>It brings to any application currently using gRPC (in a decently recent version) routing, loadbalancing, observability and security features comparable to what service meshes offer without the actual complexity of running a service mesh.</p><p>All you need is gRPC embedded in your client application, gTC and a few lines of YAML!</p><h2 id=proxyless-service-mesh>Proxyless service mesh</h2><p>A service mesh is an infrastructure component in charge of controlling and observing service to service communication in a microservice architecture. It brings major features on the table like:</p><ul><li>Advanced routing and Loadbalancing</li><li>Observability</li><li>End to end encryption between services</li><li>Fault injection</li><li>Retries</li></ul><p>We can distinguish two major components in service meshes architecture:</p><ul><li>The Control Plane: in charge of retrieving and exposing the routing configuration</li><li>Data Plane: in charge of routing actual network traffic based on the configuration exposed by control planes.</li></ul><p>Nowardays, service meshes like <a href=https://istio.io/latest/about/service-mesh/>Istio</a> or <a href=https://linkerd.io/2.14/overview/>Linkerd</a> are implementing the data plane using a sidecar proxy (<a href=https://www.envoyproxy.io/>Envoy</a> in the case of Istio) that handles all the outbound and inbound traffic from the local pod.</p><p>It translates to running a dedicated proxy alongside each application member of the mesh. This brings, amongst other issues, resources and maintenance overhead. From a security perspective, the traffic between the application and the local sidecar proxy isn&rsquo;t encrypted as well.</p><p>In an attempt to make this technology simpler and more accessible, the gRPC community has been actively working on delivering the idea of proxyless service mesh. This idea boils down to letting the gRPC client itself handle the routing and loadbalancing of calls, instead of routing all the traffic into a sidecar proxy.</p><p>This enables routing, loadbalancing, security and observability capabilities comparable to what we can traditionally find with Service Meshes without the actual complexity and runtime costs of a service mesh.</p><p>To bring to life this idea of proxyless service mesh, the gRPC community has shipped the support of the <a href=https://www.envoyproxy.io/docs/envoy/latest/api-docs/xds_protocol>xDS</a> protocol in all its major implementations.</p><p>This means that any modern implementation of the gRPC framework is now able to talk directly to an xDS enabled server to retrieve routing policies and apply them.</p><p>The good news is: if you&rsquo;re using a recent version of a gRPC implementation, it is likely to already embed the support the xDS protocol. This <a href=https://grpc.github.io/grpc/core/md_doc_grpc_xds_features.html>gRPC Core documentation</a> provides a per feature support status for every major client implementation.</p><h2 id=configuring-clients>Configuring clients</h2><p>Having gRPC able to route its requests by itself only partially solves the problem: we still need a control plane to deliver the routing configuration!</p><p>Currently, only <a href=https://cloud.google.com/traffic-director>Google Cloud&rsquo;s traffic director</a> and <a href=https://istio.io/v1.15/blog/2021/proxyless-grpc/>Istio</a> offer support for the gRPC xDS service discovery. Sadly, the first one requires to run on Google Cloud and the second provides experimental support since 2021.</p><p>This is where gRPC Traffic Controller comes in!</p><ul><li>Simple: It aims to provide a simple-yet-powerful Kubernetes API to configure gRPC clients. It is inspired by the <code>networking/v1</code> <code>Ingress</code> resource which, despite its limitations, has become the actual standard for defining ingress routing configuration.</li><li>Minimal infrastructure required: only an init container and the gRPC traffic controller deployment</li><li>Universal: As long as you run a Kubernetes 1.21+ (first version that supports the <code>discovery/v1</code> API) you can use gRPC Traffic Controller!</li><li>Atomic: It aims to do one thing: service discovery. Instead of packing everything inside a single bundle, we prefer integrating with other components of the Kubernetes ecosystem to deliver features like observability (<a href=https://prometheus.io/>via the Prometheus ecosystem</a>) or end to end encryption (using <a href=https://spiffe.io/>SPIFFE and SPIRE</a>).</li></ul><p>Interested? Please check out the following sections!</p></div></div><div class=td-content style=page-break-before:always><h1 id=pg-93aadc1aba179e6928539400a09b9e4e>1 - Installing gRPC Traffic Controller</h1><div class=lead>Install the gRPC traffic controller.</div><h2 id=prerequisites>Prerequisites</h2><ul><li>Kubernetes 1.21+ (requires endpoint slices).</li><li>Helm 3</li></ul><h2 id=installation>Installation</h2><p>gRPC traffic controller has no release yet so we can&rsquo;t properly document this, let&rsquo;s fix this in a near future</p></div><div class=td-content style=page-break-before:always><h1 id=pg-4495328d2850942cff833b9718c1da91>2 - Exposing your first gRPC service</h1><div class=lead>Expose your first gRPC service.</div></div></main></div></div><footer class="td-footer row d-print-none"><div class=container-fluid><div class="row mx-md-2"><div class="col-6 col-sm-4 text-xs-center order-sm-2"></div><div class="col-6 col-sm-4 text-end text-xs-center order-sm-3"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title=GitHub aria-label=GitHub><a target=_blank rel=noopener href=https://github.com/jlevesy/grpc-traffic-controller aria-label=GitHub><i class="fab fa-github"></i></a></li></ul></div><div class="td-footer__copyright-etc col-12 col-sm-4 text-center py-2 order-sm-2"><span>&copy; 2023 The Docsy Authors All Rights Reserved</span>
<span class=ms-1><a href=https://policies.google.com/privacy target=_blank rel=noopener>Privacy Policy</a></span></div></div></div></footer></div><script src=/grpc-traffic-controller/js/main.min.d3c4fd7f5b4ef83ec6c4cdad9134f236e928638358b0aaf75bfc877bd91e0292.js integrity="sha256-08T9f1tO+D7GxM2tkTTyNukoY4NYsKr3W/yHe9keApI=" crossorigin=anonymous></script>
<script defer src=/grpc-traffic-controller/js/click-to-copy.min.f724d3de49218995223b7316aa2e53e2b34bf42026bf399ebb21bb02212402d1.js integrity="sha256-9yTT3kkhiZUiO3MWqi5T4rNL9CAmvzmeuyG7AiEkAtE=" crossorigin=anonymous></script>
<script src=/grpc-traffic-controller/js/tabpane-persist.js></script></body></html>